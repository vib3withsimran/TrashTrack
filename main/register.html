<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/ Sign Up page</title>
    <link rel="stylesheet" href="./output.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Libertinus+Sans:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
</head>
<body class="font-family-libertinus">
    <div id="back-option" class="m-3 text-2xl absolute text-black">
        <i class="fa-solid fa-arrow-left"></i>
        <a href="./index.html">Back</a>
    </div>
    <section id="loginSign" class=" bg-center h-[100vh] bg-[url(https://corex-honeycomb.com/wp-content/uploads/2022/01/Sustainability-in-the-composite-industry-scaled.jpg)] bg-cover md:flex md:flex-row md:justify-around">
        <div id="Register" class="hidden md:flex"> 
            <div class="grid items-center text-center justify-center">
                <div id="Register-box" class="w-[420px] h-fit mt-[120px] text-shadow-black border-2 border-[rgba(255,255,255,0.4)] border-solid backdrop-blur-2xl shadow-xl/35 rounded-2xl transition-opacity ease-in-out p-5">
                    <form  id="registerForm">
                        <h1 class="text-2xl text-center font-bold">Register</h1>
                        <div class="input-box relative w-[350px] h-[50px] mt-7 mb-7 pl-4">
                            <input placeholder="Username"id="regUsername" type="text" class="w-[350px] h-full border-2 border-[rgba(255,255,255,0.5)] active:shadow-2xl rounded-3xl text-md pt-5 pl-11 pb-5 pr-5" required> 
                            <i class="fa-solid fa-user absolute right-3 top-[35%] text-xl"></i>               
                        </div>
                        <div class="input-box relative w-[350px] h-[50px] mt-7 mb-7 pl-4">
                            <input placeholder="Email"id="regEmail" type="email" class="w-[350px] h-full border-2 active:shadow-2xl border-[rgba(255,255,255,0.5)] rounded-3xl text-md pt-5 pl-11 pb-5 pr-5" required> 
                            <i class="fa-solid fa-user absolute right-3 top-[35%] text-xl"></i>               
                        </div>
                        <div class="input-box relative w-[350px] h-[50px] mt-7 mb-7 pl-4">
                            <input placeholder="Password"id="regPassword" type="password" required class="w-[350px] h-full border-2 active:shadow-2xl border-[rgba(255,255,255,0.5)] rounded-3xl text-md pt-4 pl-11 pb-4 pr-5">
                            <i class="fa-solid fa-lock absolute right-3 top-[35%] text-xl"></i>
                        </div>
                        <button type="submit" class="btn w-[350px] h-[45px] border rounded-2xl shadow-xl cursor-pointer text-xl text-[#333] font-semibold bg-[rgba(255,255,255,0.9)]">Register</button>
                        <div class="register-link text-md text-center mt-4 flex mb-4 flex-row justify-center">
                            <p>Already have account?</p> <a class="pl-[10px] hover:underline" href="./login.html">Login</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    <script>
        document.querySelector("#registerForm")?.addEventListener("submit", async (e) => {
    e.preventDefault();
    const username = document.querySelector("#regUsername").value.trim();
    const email = document.querySelector("#regEmail").value.trim();
    const password = document.querySelector("#regPassword").value;

    const res = await fetch("http://localhost:5000/api/auth/register", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ username, email, password })
    });
    const data = await res.json();
    if (res.ok) alert(data.message);
    else alert(data.error || 'Error', "error");
  });
    </script>
</body>
</html>